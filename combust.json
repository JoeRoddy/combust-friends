{
  "dependencies": {
    "users": "latest",
    "chat": "latest",
    "notifications": "latest"
  },
  "installation": {
    "components/users/SocialContacts.jsx": {
      "imports": ["import FriendsList from \"../friends/FriendsList\";"],
      "after": {
        "pattern": "const componentsByMode = {",
        "code": ["\nFriends: <FriendsList  />,"]
      }
    },
    "components/users/Profile.jsx": {
      "imports": ["import friendStore from \"../../stores/FriendStore\";"],
      "replace": {
        "pattern": "alert(\"combust install friends\");\n",
        "code": [
          "friendStore.addFriend(userId);",
          "alert('Friend Request Sent');"
        ]
      }
    }
  },
  "rules": {
    ".read": true,
    "friendshipIdsByUser": {
      "$uid": {
        "$friendshipId": {
          ".write": "!data.exists()"
        }
      }
    },
    "friendships": {
      "$fid": {
        ".write":
          "!data.exists() || data.child('users').child(auth.uid).exists()"
      }
    }
  }
}
